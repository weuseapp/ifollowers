/** layui-admin.std-v1.4.0 LPPL License By https://www.layui.com/layuiadmin/ */
 ;"use strict";layui.define(["table","form","op_common"],function(e){function t(){setCacheData("apiLists",n)}var i=layui.$,a=(layui.admin,layui.table),d=layui.form,n=(getUrlParams(location.search),layui.api.devices_get_device_lists);d.on("submit(search)",function(e){t(),window.data=e.data,a.reload("lists",{where:e.field,page:{curr:1},done:function(t){initSearchInput(t["extends"],e.field)}})}),i(".op-methods").on("click",function(e){t(),window.data=e.data,window[i(this).data("type")](e.data,a.cache["extends"])}),a.on("tool(lists)",function(e){t(),window.data=e.data,window[e.event](e.data,a.cache["extends"])}),a.render({elem:"#lists",url:n,headers:{token:layui.data(layui.setter.tableName).user.token},parseData:function(e){return window.parent.listData=e,checkApiStatusByData(e),getListsFormatByData(e)},cols:[[{field:"id",width:100,title:"ID",sort:!0},{field:"app_name",title:"应用名称",minWidth:120,templet:function(e){var t=parent.listData.data["extends"].apps[e.app_id];return void 0!==t?t:"未知"}},{field:"device_uuid",title:"设备ID"},{field:"device_type",title:"设备类型",templet:function(e){return 1===e.device_type?"Android":2===e.device_type?"iOS":3===e.device_type?"PC":"未知"}},{field:"mobile_version",title:"手机版本"},{field:"device_ip",title:"请求IP"},{field:"device_ip_address",title:"地址"},{field:"created_at",title:"创建时间",sort:!0,templet:function(e){return changeUTCTime(e.created_at)}},{field:"updated_at",title:"更新时间",sort:!0,templet:function(e){return changeUTCTime(e.updated_at)}}]],page:!0,limit:20,done:function(e){a.cache["extends"]=e["extends"],initSearchInput(e["extends"])}}),initSearchInput=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};renderSelect("app_id","app_id",e.apps,t.app_id),renderSelect("device_type","device_type",e.device_type,t.device_type),d.render()},e("devices"),e("const",{})});