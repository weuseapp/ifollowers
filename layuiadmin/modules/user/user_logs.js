/** layui-admin.std-v1.4.0 LPPL License By https://www.layui.com/layuiadmin/ */
 ;"use strict";layui.define(["table","form","op_common"],function(e){function t(){setCacheData("apiLists",l)}var a=layui.$,n=layui.table,i=layui.form,r=getUrlParams(location.search),l=layui.api.user_get_user_logs;r.id&&(l+="?user_id="+r.id),i.on("submit(search)",function(e){t(),window.data=e.data,n.reload("lists",{where:e.field,page:{curr:1},done:null})}),a(".op-methods").on("click",function(e){t(),window.data=e.data;var i=a(this).data("type");window[i]&&window[i].call(this,e.data,n.cache["extends"])}),n.on("tool(lists)",function(e){t(),window.data=e.data,window[e.event]&&window[e.event].call(this,e.data,n.cache["extends"])}),n.render({elem:"#lists",url:l,headers:{token:layui.data(layui.setter.tableName).user.token},parseData:function(e){return window.parent.listData=e,checkApiStatusByData(e),getListsFormatByData(e)},cols:[[{field:"id",width:100,title:"ID",sort:!0},{field:"app_name",title:"应用名称",minWidth:120,templet:function(e){var t=parent.listData.data["extends"].apps[e.app_id];return void 0!==t?t:"未知"}},{field:"username",title:"用户名",templet:function(e){return e.ig_url?'<a href="'+e.ig_url+'" class="layui-badge" target="_blank" title="点击查看IG用户">'+e.username+"</a>":e.username}},{field:"total",title:"关联数量",sort:!0},{field:"event",title:"操作事件",templet:function(e){var t=window.parent.listData.data["extends"].event;return t[e.event]||"暂无数据"}},{field:"operate",title:"操作状态",templet:function(e){var t=window.parent.listData.data["extends"].operate;return t[e.operate]}},{field:"currency",title:"操作货币",templet:function(e){var t=window.parent.listData.data["extends"].currency;return t[e.currency]}},{field:"related",title:"关联字段"},{field:"created_at",width:165,title:"创建时间",sort:!0,templet:function(e){return changeUTCTime(e.created_at)}}]],page:!0,limit:20,done:function(e){n.cache["extends"]=e["extends"],initSearchInput(e["extends"])}}),window.initSearchInput=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};renderSelect("event","event",e.event,t.event||null),renderSelect("operate","operate",e.operate,t.operate||null),renderSelect("currency","currency",e.currency,t.currency||null),renderSelect("app_id","app_id",e.apps,t.app_id||null),i.render()},e("user_logs")});