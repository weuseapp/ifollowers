/** layui-admin.std-v1.4.0 LPPL License By https://www.layui.com/layuiadmin/ */
 ;"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};layui.define(function(e){var t=layui.$,a=layui.layer,n=layui.setter,o=layui.admin;t("head").append('<meta name="referrer" content="no-referrer-when-downgrade">'),window.checkIsLogin=function(){window.user=layui.data(n.tableName).user,window.pathUrl=location.pathname,window.$isLogin=void 0!==user&&void 0!==user.token,window.isLoginPage="login.html"===pathUrl.substr(pathUrl.lastIndexOf("/")+1),$isLogin||isLoginPage?$isLogin&&isLoginPage&&(parent.location.href="../../"):location.href=n.vhtml+"user/login.html"},checkIsLogin(),window.cacheUserToken=function(e){setCacheData("user",{token:e.data.token,expire_time:e.data.expire_time,refresh_token:e.hasOwnProperty.call(e.data,"refresh_token")?e.data.refresh_token:layui.data(n.tableName).user.refresh_token,refresh_time:e.hasOwnProperty.call(e.data,"refresh_time")?e.data.refresh_time:layui.data(n.tableName).user.refresh_time,username:e.hasOwnProperty.call(e.data,"username")?e.data.username:layui.data(n.tableName).user.username,nickname:e.hasOwnProperty.call(e.data,"nickname")?e.data.nickname:layui.data(n.tableName).user.nickname,avatar:e.hasOwnProperty.call(e.data,"avatar")?e.data.avatar:layui.data(n.tableName).user.avatar,email:e.hasOwnProperty.call(e.data,"email")?e.data.email:layui.data(n.tableName).user.email,status:e.hasOwnProperty.call(e.data,"status")?e.data.status:layui.data(n.tableName).user.status,is_admin:!!e.data.is_admin&&e.data.is_admin})},window.setCacheData=function(e,t){layui.data(n.tableName,{key:e,value:t})},window.getCacheData=function(e){return layui.data(n.tableName)[e]},window.checkApiStatusByData=function(e){if(e.code!==layui.code.NO_ERROR){if(e.code!==layui.code.SIGN_IS_EXPIRE&&e.code!==layui.code.USER_IS_LOGOUT)return a.msg(e.msg,{icon:4,shade:0});ajaxRequest(layui.api.refresh_token,"post",{refresh_token:layui.data(n.tableName).user.refresh_token},!1),o.req({url:layui.api.refresh_token,type:"POST",data:{refresh_token:layui.data(n.tableName).user.refresh_token},success:function(e){e.code!==layui.code.NO_ERROR?window.location.href=n.vhtml+"user/login.html":(cacheUserToken(e),window.location.reload())}})}},window.getListsFormatByData=function(e){var t={code:0,msg:"获取数据失败",count:0,data:[],"extends":[]};return!e||0!==e.code||e.data.lists.length<0?t:(t.code=e.code,t.msg=e.msg||e.message,t.count=e.data.count,t.data=e.data.lists,t["extends"]=e.data["extends"],t)},window.getNewListsFormatByData=function(e){var t={code:0,msg:"获取数据失败",count:0,data:[],"extends":[]};return!e||0!==e.code||e.data.data.length<0?t:(t.code=e.code,t.msg=e.hasOwnProperty.call(e,"msg")?e.msg:e.message,t.count=e.data.count,t.data=e.data.data,t["extends"]=e.data["extends"],t)},window.getUrlParams=function(e){var t={},a="?"+e.split("?")[1];if("undefined"==typeof e&&(a=location.search),a.indexOf("?")!==-1)for(var n=a.substr(1),o=n.split("&"),i=0;i<o.length;i++)t[o[i].split("=")[0]]=o[i].split("=")[1];return t},window.isEmpty=function(e){return!e&&0!==e&&""!==e||(!(!Array.prototype.isPrototypeOf(e)||0!==e.length)||Object.prototype.isPrototypeOf(e)&&0===Object.keys(e).length)},window.renderSelect=function(e,a,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i='<option name="'+a+'" value="">请选择</option>';t.each(n,function(e,t){return null===o?(i+='<option name="'+a+'" value="'+e+'">'+t+"</option>",!0):void(i+="object"===("undefined"==typeof o?"undefined":_typeof(o))&&o.indexOf(e)>=0?'<option name="'+a+'" value="'+e+'" selected>'+t+"</option>":e==o?'<option name="'+a+'" value="'+e+'" selected>'+t+"</option>":'<option name="'+a+'" value="'+e+'">'+t+"</option>")}),t("#"+e).html(i)},window.renderSelectV2=function(e,a,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"请选择",r='<option name="'+a+'" value="">'+i+"</option>";t.each(n,function(e,t){return null===o?(r+='<option name="'+a+'" value="'+e+'">'+t+"</option>",!0):void(r+="object"===("undefined"==typeof o?"undefined":_typeof(o))&&o.indexOf(e)>=0?'<option name="'+a+'" value="'+e+'" selected>'+t+"</option>":e===o||"number"==typeof o&&parseInt(e)===o?'<option name="'+a+'" value="'+e+'" selected>'+t+"</option>":'<option name="'+a+'" value="'+e+'">'+t+"</option>")}),t("#"+e).html(r)},window.renderCheckbox=function(e,a,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="";t.each(n,function(t,n){i+="object"==typeof o&&null!==o&&o.indexOf(t)>=0?'<input type="checkbox" name="'+a+"["+t+']" value="'+t+'" lay-skin="primary" title="'+n+'" lay-filter="'+e+'" checked>':'<input type="checkbox" name="'+a+"["+t+']" value="'+t+'" lay-skin="primary" title="'+n+'" lay-filter="'+e+'">'}),t("#"+e).html(i)},window.renderRadio=function(e,a,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="";t.each(n,function(t,n){i+=null!==o&&t==o?'<input type="radio" name="'+a+'" value="'+t+'" title="'+n+'" lay-filter="'+e+'" checked>':'<input type="radio" name="'+a+'" value="'+t+'" title="'+n+'" lay-filter="'+e+'">'}),t("#"+e).html(i)},window.renderMsgImges=function(e){var n=t('img[name="'+e+'"]'),o=function(e){a.msg('<img style="width: 220px;height: 150px" src="'+e+'" alt="avatar">')};n.on("mouseover",function(){var e=t(this).attr("src");/\.(png|jpg|gif|jpeg|webp)$/.test(e)&&o(e)}),n.on("mouseout",function(){a.closeAll("dialog")})},window.renderMsgImagesV2=function(e){var n=t('img[class="'+e+'"]'),o=function(e){a.msg('<img style="width: 200px;height: 200px;" src="'+e+'" alt="avatar">')};n.on("mouseover",function(){var e=t(this).attr("src");/\.(png|jpg|gif|jpeg|webp)$/.test(e)&&o(e)}),n.on("mouseout",function(){a.closeAll("dialog")})},window.renderXmSelect=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cascader",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";layui.use("xmSelect",function(){var i=layui.xmSelect,r={show:!0,showFolderIcon:!0,showLine:!0,indent:20,expandedKeys:[]},l={show:!0,indent:200,strict:!0},s=void 0;s="tree"===n?i.render({el:"#"+e,autoRow:!0,tree:r,toolbar:{show:!0,list:["ALL","REVERSE","CLEAR"]},filterable:!0,height:"auto",direction:"down",data:t,name:o?o:"select"}):"cascader"===n?i.render({el:"#"+e,autoRow:!0,cascader:l,toolbar:{show:!0,list:["ALL","REVERSE","CLEAR"]},filterable:!0,height:"250px",direction:"down",data:t,name:o?o:"select"}):i.render({el:"#"+e,autoRow:!0,toolbar:{show:!0,list:["ALL","REVERSE","CLEAR"]},filterable:!0,height:"250px",direction:"down",data:t,name:o?o:"select"}),a&&s.setValue(a)})},window.comfirmOperate=function(e,t){a.open({title:"操作确认",content:"是否执行该操作？？",btn:["是","否"],yes:function(n,o){var i=ajaxRequest(e,"post",t,!1).responseJSON;i&&0===i.code?(a.msg(i.msg,{icon:6}),layui.table.reload("lists")):i?a.msg(i.msg,{icon:5}):a.msg("更新失败",{icon:5})}})},window.ajaxRequest=function(e,n,o){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l={url:e,type:n,dataType:"json",async:i,data:o,success:function(e){return e},error:function(){return!1}};r&&(l.headers={token:layui.data(layui.setter.tableName).user.token});var s=t.ajax(l);return s===!1&&a.msg("网络错误，请检查"),s},window.ajaxRequestV2=function(e,n,o,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];a.load(2),t.ajax({url:e,type:n,dataType:"json",async:l,headers:s?{token:layui.data(layui.setter.tableName).user.token}:{},data:o,success:function(e){a.closeAll("loading"),i&&i(e)},error:function(){a.closeAll("loading"),a.msg("网络错误，请检查",{icon:7}),r&&r()}})};var i={ajaxDownloadFile:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=a.load(2),d=void 0;if(window.XMLHttpRequest?d=new XMLHttpRequest:window.ActiveXObject&&(d=new ActiveXObject("Mscrosoft.XMLHttp")),t=t||"GET",t=t.toUpperCase(),"GET"===t&&n&&(e=this.setUrlQuery({url:e,query:n})),d.open(t,e,r),d.setRequestHeader("Cache-Control","no-cache"),d.setRequestHeader("If-Modified-Since","0"),d.responseType="blob",l&&d.setRequestHeader("token",layui.data(layui.setter.tableName).user.token),d.onload=function(){if(a.close(s),200===this.status){var e=this.response,t=d.getResponseHeader("Filename");if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(e,t);else{var n=document.createElement("a");n.href=URL.createObjectURL(e),n.setAttribute("style","visibility:hidden"),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}o&&o()}else a.msg("网络异常，请检查",{icon:5})},d.onerror=function(){a.close(s),i()},"POST"===t){var u=new FormData;for(var c in n)n.hasOwnProperty(c)&&u.append(c,""+n[c]);d.send(u)}else d.send()},setUrlQuery:function(e){var t=e.url,a=e.query;if(!t)return"";if(a){var n=[];for(var o in a)a.hasOwnProperty(o)&&n.push(o+"="+a[o]);t=t.indexOf("?")!==-1?t+"&"+n.join("&"):t+"?"+n.join("&")}return t}};window.window.checkIsDateFormat=function(e){var t=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/;return t.test(e)},window.changeUTCTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"-";e=Date.parse(e.replace(/-/g,"/"));var a=void 0,n=6e4*(new Date).getTimezoneOffset();a=t?new Date(e).getTime()+n:new Date(e).getTime()-n;var o=new Date(a);return o.getFullYear()+"-"+(o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1)+"-"+(o.getDate()<10?"0"+o.getDate():o.getDate())+" "+(o.getHours()<10?"0"+o.getHours():o.getHours())+":"+(o.getMinutes()<10?"0"+o.getMinutes():o.getMinutes())+":"+(o.getSeconds()<10?"0"+o.getSeconds():o.getSeconds())},o.events.logout=function(){var e=ajaxRequest(layui.api.logout,"post",{},!1).responseJSON;e&&0===e.code?(a.msg("已登出",{icon:6}),localStorage.clear(),sessionStorage.clear(),window.location.href=n.vhtml+"user/login.html"):a.msg("登出失败",{icon:5})},window.fixedTableHeight=function(e){var a=t(e).next(".layui-table-view"),n=a.find(".layui-table-fixed"),o=void 0,i=void 0;a.find(".layui-table-main").find("tr").each(function(){o=t(this).attr("data-index"),i=t(this).css("height"),n.find("tr[data-index="+o+"]").css("height",i)})},window.debounce=function(e,t){var a=null;return function(){var n=this,o=arguments;clearTimeout(a),a=setTimeout(function(){e.call(n,o)},t)}},e("common",i)});