/** layui-admin.std-v1.4.0 LPPL License By https://www.layui.com/layuiadmin/ */
 ;"use strict";layui.define(["table","form","op_common"],function(e){function t(){setCacheData("apiLists",l),setCacheData("apiDetails",d),setCacheData("apiCreate",r)}var a=layui.$,i=(layui.admin,layui.table),n=layui.form,l=layui.api.feedback_get_feedback_lists,d=layui.api.feedback_get_feedback_details,r=layui.api.user_create_admin;n.on("submit(search)",function(e){t(),window.data=e.data,i.reload("lists",{where:e.field,page:{curr:1},done:function(t){initSearchInput(t["extends"],e.field)}})}),a(".op-methods").on("click",function(e){t(),window.data=e.data,window[a(this).data("type")](e.data,i.cache["extends"])}),i.on("tool(lists)",function(e){t(),window.data=e.data,window[e.event](e.data,i.cache["extends"])}),i.render({elem:"#lists",url:l,headers:{token:layui.data(layui.setter.tableName).user.token},parseData:function(e){return window.parent.listData=e,checkApiStatusByData(e),getListsFormatByData(e)},cols:[[{field:"id",width:90,title:"ID",sort:!0},{field:"app_name",title:"应用名称",minWidth:120,templet:function(e){var t=parent.listData.data["extends"].apps[e.app_id];return void 0!==t?t:"未知"}},{field:"user_id",title:"用户",templet:"#tpl_user_id",align:"center"},{field:"title",title:"标题"},{field:"email",title:"邮箱"},{field:"is_read",title:"是否已读",templet:"#tpl_is_read",align:"center"},{field:"created_at",title:"创建时间",sort:!0,templet:function(e){return changeUTCTime(e.created_at)}},{title:"操作",width:150,align:"center",fixed:"right",toolbar:"#options"}]],page:!0,limit:20,done:function(e){i.cache["extends"]=e["extends"],initSearchInput(e["extends"])}}),initSearchInput=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};renderSelect("app_id","app_id",e.apps,t.app_id),n.render()},user=function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;layer.open({type:2,title:"用户",content:layui.setter.vhtml+"user/user/list.html?user_id="+e.user_id,maxmin:!0,area:["70%","70%"]})},reply=function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;layer.open({type:2,title:"回复",content:layui.setter.vhtml+"feedback/feedback/reply.html",maxmin:!0,area:["70%","70%"]})},e("feedback_feedback",{}),e("const",{STATE_PROCESS:0,STATE_FINISH:1,TYPE_LIKES:1,TYPE_FOLLOWER:2,TYPE_VIEW:3,MEDIA_TYPE_SINGLE_PICTURE:1,MEDIA_TYPE_SINGLE_VIDEO:2,MEDIA_TYPE_HYBRID_MUTABLE:3,MEDIA_TYPE_IGTV:4})});